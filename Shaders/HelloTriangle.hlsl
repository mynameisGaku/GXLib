/// @file HelloTriangle.hlsl
/// @brief Hello Triangle用の頂点シェーダーとピクセルシェーダー
///
/// 【初学者向け解説】
/// これはGPU上で動作するプログラム（シェーダー）です。
///
/// 頂点シェーダー（VSMain）:
///   各頂点の位置と色を受け取り、画面上の座標に変換します。
///   Phase 0では変換なし（2Dの座標をそのまま使用）。
///
/// ピクセルシェーダー（PSMain）:
///   ラスタライザが補間した色を受け取り、そのまま出力します。
///   三角形の内部では、頂点の色が自動的にグラデーション補間されます。

// 頂点シェーダーからピクセルシェーダーへ渡すデータ構造
struct VSOutput
{
    float4 position : SV_POSITION;   // 画面上の座標（システムが使用）
    float4 color    : COLOR;         // 頂点カラー（ピクセルシェーダーへ）
};

// ============================================================================
// 頂点シェーダー
// ============================================================================
// 各頂点に対して1回実行される
// 入力: 頂点の位置（POSITION）と色（COLOR）
// 出力: 変換後の位置と色
VSOutput VSMain(float3 position : POSITION, float4 color : COLOR)
{
    VSOutput output;
    output.position = float4(position, 1.0f);  // 3D→4D（同次座標）
    output.color    = color;                    // 色はそのまま渡す
    return output;
}

// ============================================================================
// ピクセルシェーダー
// ============================================================================
// 各ピクセルに対して1回実行される
// 入力: 補間された頂点データ（頂点間の色がグラデーションになる）
// 出力: ピクセルの最終色（RGBA）
float4 PSMain(VSOutput input) : SV_TARGET
{
    return input.color;   // 補間された色をそのまま出力
}
